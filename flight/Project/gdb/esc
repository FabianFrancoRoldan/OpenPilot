define connect
	target remote localhost:3333
	monitor reset_config none
	monitor cortex_m3 vector_catch all
	monitor poll
	set mem inaccessible-by-default off
	monitor flash probe 0
	monitor reset halt
	file ./build/fw_esc/fw_esc.elf
end
#monitor reset halt

define connect2
	target extended-remote localhost:4242
	file ./build/bl_esc/bl_esc.elf
end

define hook-step
	monitor cortex_m3 maskisr on
end
define hookpost-step
	monitor cortex_m3 maskisr off
end

define hook-stepi
	monitor cortex_m3 maskisr on
end

define hookpost-stepi
	monitor cortex_m3 maskisr off
end

define hook-next
	monitor cortex_m3 maskisr on
end

define hookpost-next
	monitor cortex_m3 maskisr off
end

define hook-finish
	monitor cortex_m3 maskisr on
end

define hookpost-finish
	monitor cortex_m3 maskisr off
end

